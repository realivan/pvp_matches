Пример Сервиса организации PvP матчей.

Версия Python >=3.4.4.
Скачайте пакет 'pvp_matches-1.0.tar.gz'. После установки пакета, для запуска Сервиса используйте команду 'pvp'.
В Сервисе используется БД SQLite. Для записей в ДБ создаются временные таблицы 'matches' и 'players'.

Для подключения клиента к сервису используется порт 4004.

Данные передаваемые Сервису и приходящие от него представляют собой сереализованный объект list, где 
[0] - это длина передаваемого сообщения, тип int. 
[1] - это сообщение, тип list или str. 
Чтобы подключиться к Сервису и учавствовать в матче, необходимо отправить самое первое сообщение, где 
первый элемент списка - это строка "join", второй элемент списка - это строка, содержащяя имя игрока. Если  строка "join" не 
будет передана, то сервис отключит клиента.
Если игрок подключился к матчу ему приходит информация о матче, которая включает в себя список всех 
подключенных игроков вида [[Уникальный идентификатор матча, Уникальный идентификатор в рамках матча, Ник игрока, IP-адрес]]. 
При подключении каждого нового игрока к матчу информация о матче рассылается заново для каждого игрока. 
Если набирается достаточное колличество игроков для матча 'clients_numbers', то создается матч, 
записывается информация в БД, всем игрокам передается сообщение вида 'create match'. Автоматически, 
через время 'next_match' создается новая заявка на матч с записью в БД. 
Реализованно так же отключение всех игроков от Сервиса при инициализации нового матча. 
Если игрок хочет подключиться, но заявка на матч заполнена, то ему каждую секунду приходит сообщение 'wait please' 
и он ждет 'match_wait_time'. Если за это время создается новая заявка на матч, то ему приходит сообщение с информацией 
о матче. Если заявка не успевает создаться, то игроку приходит сообщение 'Time is out, the server closed the connection for {}' 
и он отключается от Сервиса.
Для запуска тестов необходимо в директории с установленным пакетом выполнить команду 'python setup.py test'. К сожалению, выполнен только тест записи в БД, т.к. я так и не нашел способ запупусить асинхронно тесты сервера и нескольких клиентов.
Буду рад, если Вы подскажите мне, как нужно было это сделать!!!
Спасибо.
